!function(t){var r={};function e(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var n in t)e.d(i,n,function(r){return t[r]}.bind(null,n));return i},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=0)}([function(t,r,e){t.exports=e(1)},function(t,r,e){!function(t){"use strict";function r(t,r,e,n,l){this.key=t,this.value=r,this.level=e||1,this.left=n||i,this.right=l||i,this.parent=null}function e(t,r){this.current=r.leftest(),this.last=null,this.next=function(){if(!this.current||this.current==i)return null;var r=this.current;if(this.last){var e=t(this.last.key,this.current.key);if(e<=0&&this.current.right!=i)this.current=this.current.right.leftest(),0==e&&(r=this.current);else if(e>=0){for(;(e=t(this.last.key,this.current.key))>=0&&this.current.parent;)this.current=this.current.parent;r=this.current}else this.current=this.current.parent}else this.current=this.current.parent;return this.last=r,r}}r.prototype.isLeaf=function(){return this==i},r.prototype.leftest=function(){for(var t=this;t.left&&t.left!=i;)t=t.left;return t},r.prototype.toString=function(){var t="";return this.left!=i&&(t+=this.left.toString()+","),t+=this.key,this.right!=i&&(t+=","+this.right.toString()),t};var i=new r(null,null,0);function n(t){this._compare=t||l,this._path=[],this.root=null,this.size=0}function l(t,r){return t<r?-1:t>r?1:0}function u(t){if(t.left.level===t.level){var r=t;t=t.left,r.left=t.right,t.right=r,t.right.parent=t,r.left.parent=r}return t}function s(t){if(t.right.right.level===t.level){var r=t;t=t.right,r.right=t.left,t.left=r,t.level++,r.right.parent=r,t.left.parent=t}return t}i.left=i,i.right=i,n.prototype.find=function(t){if(!this.root)return null;for(var r=this.root,e=this._compare;r!==i;){var n=e(t,r.key);if(0===n)return r;r=n<0?r.left:r.right}return null},n.prototype.insert=function(t,e){var n=this._compare,l=this.root,u=this._path;if(!l)return this.root=new r(t,e),this.size++,this.root;for(var s=0;;){var f=n(t,l.key);if(!f)return l;if(u[s]=l,s++,f<0){if(l.left===i){l.left=new r(t,e),l.left.parent=l,this.size++;break}l=l.left}else{if(l.right===i){l.right=new r(t,e),l.right.parent=l,this.size++;break}l=l.right}}return this._rebalance(u,s),l},n.prototype._rebalance=function(t,r){for(var e,i,n,l,f=0,h=r-1;h>=0&&(e=i=t[h],i.level===i.left.level&&i.level===i.right.level?(l=!0,i.level++):e=s(e=u(i)),e!==i&&(l=!0,h?((n=t[h-1]).left===i?(n.left=e,n.left.parent=n):(n.right=e,n.right.parent=n),i.left.parent=i,i.right.parent=i):(this.root=e,this.root.parent=null,this.root.left.parent=this.root,this.root.right.parent=this.root)),l||f++,2!==f);h--);},n.prototype.iterator=function(){return new e(this._compare,this.root?this.root.leftest():null)},n.prototype.toString=function(){return"["+(this.root?this.root.toString():"")+"]"};t.BBTree=n,t.BBTreeCollection=function(){var t=new n,r=function(t){this.next=function(){var r=t.next();return r?{key:r.key,value:r.value}:null}};this.add=function(r,e){var i=t.size;return t.insert(r,e),i!=t.size},this.set=function(r,e){var i=t.size,n=t.insert(r,e);console.log(i,t.size),i==t.size&&(n.value=e)},this.get=function(r){var e=t.find(r);return e?e.value:null},this.iterator=function(){return new r(t.iterator())},this.size=function(){return t.size},this.toString=function(){return t.toString()}}}(t.exports)}]);