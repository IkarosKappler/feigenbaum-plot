!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){t.exports=r(1)},function(t,e,r){!function(t){"use strict";function e(t,e,r,i,o){this.key=t,this.value=e,this.level=r||1,this.left=i||n,this.right=o||n,this.parent=null}function r(t,e){this.current=e.leftest(),this.last=null,this.next=function(){if(!this.current||this.current==n)return null;var e=this.current;if(this.last){var r=t(this.last.key,this.current.key);if(r<=0&&this.current.right!=n)this.current=this.current.right.leftest(),0==r&&(e=this.current);else if(r>=0){for(;(r=t(this.last.key,this.current.key))>=0&&this.current.parent;)this.current=this.current.parent;e=this.current}else this.current=this.current.parent}else this.current=this.current.parent;return this.last=e,e}}e.prototype.leftest=function(){for(var t=this;t.left&&t.left!=n;)t=t.left;return t},e.prototype.toString=function(){var t="";return this.left!=n&&(t+=this.left.toString()+","),t+=this.key,this.right!=n&&(t+=","+this.right.toString()),t};var n=new e(null,null,0);function i(t){this._compare=t||o,this._path=[],this.root=null,this.size=0}function o(t,e){return t<e?-1:t>e?1:0}function l(t){if(t.left.level===t.level){var e=t;t=t.left,e.left=t.right,t.right=e,t.right.parent=t,e.left.parent=e}return t}function u(t){if(t.right.right.level===t.level){var e=t;t=t.right,e.right=t.left,t.left=e,t.level++,e.right.parent=e,t.left.parent=t}return t}n.left=n,n.right=n,i.prototype.find=function(t){if(!this.root)return null;for(var e=this.root,r=this._compare;e!==n;){var i=r(t,e.key);if(0===i)return e;e=i<0?e.left:e.right}return null},i.prototype.insert=function(t,r){var i=this._compare,o=this.root,l=this._path;if(!o)return this.root=new e(t,r),this.size++,this.root;for(var u=0;;){var s=i(t,o.key);if(!s)return o;if(l[u]=o,u++,s<0){if(o.left===n){o.left=new e(t,r),o.left.parent=o,this.size++;break}o=o.left}else{if(o.right===n){o.right=new e(t,r),o.right.parent=o,this.size++;break}o=o.right}}return this._rebalance(l,u),o},i.prototype._rebalance=function(t,e){for(var r,n,i,o,s=0,f=e-1;f>=0&&(r=n=t[f],n.level===n.left.level&&n.level===n.right.level?(o=!0,n.level++):r=u(r=l(n)),r!==n&&(o=!0,f?((i=t[f-1]).left===n?(i.left=r,i.left.parent=i):(i.right=r,i.right.parent=i),n.left.parent=n,n.right.parent=n):(this.root=r,this.root.parent=null,this.root.left.parent=this.root,this.root.right.parent=this.root)),o||s++,2!==s);f--);},i.prototype.iterator=function(){return new r(this._compare,this.root?this.root.leftest():null)},i.prototype.toString=function(){return"["+(this.root?this.root.toString():"")+"]"};t.BBTree=i,t.BBTreeCollection=function(){var t=new i,e=function(t){this.next=function(){var e=t.next();return e?{key:e.key,value:e.value}:null}};this.add=function(e,r){var n=t.size;return t.insert(e,r),n!=t.size},this.set=function(e,r){var n=t.size,i=t.insert(e,r);console.log(n,t.size),n==t.size&&(i.value=r)},this.get=function(e){var r=t.find(e);return r?r.value:null},this.iterator=function(){return new e(t.iterator())},this.size=function(){return t.size},this.toString=function(){return t.toString()}}}(t.exports)}]);